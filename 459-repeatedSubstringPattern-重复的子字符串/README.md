本题也是字串的问题，其与28题类似。所以都需要用到next数组。

注意next数组实际上就是描述了一个串的子串的重复（只有重复的时候我们才能跳过该段比较，因为前面的重复字串肯定被比较过了）。所以

最长相等前后缀的长度为：`next[len - 1] + 1`。(这里的next数组是以统一减一的方式计算的，因此需要+1)

如果`len % (len - (next[len - 1] + 1)) == 0` ，则说明 (数组长度-最长相等前后缀的长度) 正好可以被 数组的长度整除，说明有该字符串有重复的子字符串。

**数组长度减去最长相同前后缀的长度相当于是第一个周期的长度，也就是一个周期的长度，如果这个周期可以被整除，就说明整个数组就是这个周期的循环。**

试想下面的串和其next数组：

| a    | s    | d    | f    | a    | s    | d    | f    | a    | s    | d    | f    |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| -1   | -1   | -1   | -1   | 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    |

